<?php include '../navbar.php'; ?>
<?php include 'admin_auth.php'; include __DIR__ . '/../db.php'; $id=intval($_GET['id']??0); if(!$id) header('Location: manage_doctors.php'); $stmt=$conn->prepare('SELECT * FROM doctors WHERE id=?'); $stmt->bind_param('i',$id); $stmt->execute(); $doc=$stmt->get_result()->fetch_assoc(); $msg=''; if($_SERVER['REQUEST_METHOD']==='POST'){ $name=$_POST['name']; $spec=$_POST['specialization']; $contact=$_POST['contact']; $u=$conn->prepare('UPDATE doctors SET name=?,specialization=?,contact=? WHERE id=?'); $u->bind_param('sssi',$name,$spec,$contact,$id); if($u->execute()) header('Location: manage_doctors.php'); else $msg='Error: '.$u->error; } ?>
<!doctype html><html><head><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<meta charset="utf-8"><title>Edit Doctor</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">    <link rel="stylesheet" href="/clinic/styles.css">
</head><body><div class="container py-4"><a href="manage_doctors.php">&laquo; Back</a><h3 class="mt-2">Edit Doctor</h3><?php if($msg) echo "<div class='alert alert-danger'>$msg</div>"; ?><form method="post" class="mt-3"><div class="mb-2"><input name="name" class="form-control" value="<?php echo htmlspecialchars($doc['name']);?>" required></div><div class="mb-2"><input name="specialization" class="form-control" value="<?php echo htmlspecialchars($doc['specialization']);?>" required></div><div class="mb-2"><input name="contact" class="form-control" value="<?php echo htmlspecialchars($doc['contact']);?>"></div><button class="btn btn-primary">Save</button></form></div></body></html>
